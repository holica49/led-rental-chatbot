# LED 렌탈 MCP 프로젝트 컨텍스트

## 비즈니스 도메인
오리온디스플레이의 LED 렌탈/설치 업무를 자동화하는 카카오톡 챗봇

## 핵심 기능
1. **설치 서비스**: 상설 LED 설치 상담 및 견적
2. **렌탈 서비스**: 단기 행사용 LED 렌탈 및 견적
3. **멤버쉽 서비스**: 메쎄이상(001) 전용 특별 가격

## 기술 스택
- Runtime: Node.js 18.x (고정)
- Language: TypeScript 5.6.3 (고정)
- Database: Notion API
- Deployment: Railway
- Session: In-memory (Redis로 마이그레이션 예정)

## Notion 데이터베이스 스키마
⚠️ 아래 필드명은 절대 변경 불가

### 기본 정보
- `행사명` (title)
- `고객사` (select)
- `고객명` (rich_text) ← ⚠️ '고객담당자' 아님!
- `고객 연락처` (phone_number)

### LED 정보 (1-5개소)
- `LED{n} 크기` (rich_text)
- `LED{n} 무대 높이` (number) ← 0mm 허용
- `LED{n} 오퍼레이터 필요` (checkbox)

## 프로세스 플로우

### 설치 서비스
1. 실내/실외 선택
2. 설치 지역 입력
3. 설치 공간 선택
4. 문의 목적 선택
5. 설치 예산 선택
6. 설치 일정 입력
7. 고객사명 입력
8. 담당자 정보 입력

### 렌탈 서비스
1. 행사명/행사장 입력
2. 실내/실외 선택
3. 지지구조물 선택
4. LED 개수 선택 (1-5)
5. 각 LED별 사양 입력
6. 행사 기간 입력
7. 고객사명 입력
8. 담당자 정보 입력
9. 견적 자동 계산

### 멤버쉽 서비스
1. 멤버 코드 확인 (001)
2. 행사명/행사장 입력
3. LED 개수 선택
4. 각 LED별 사양 입력
5. 행사 기간 입력
6. 담당자 정보 입력
7. 견적 자동 계산

## 문제점 및 개선 필요사항
1. kakao-chatbot.ts가 2000줄 이상으로 너무 큼
2. 서버 재시작 시 세션 데이터 손실
3. 테스트 코드 없음
4. 비즈니스 로직과 프레젠테이션 로직 혼재
5. 에러 처리 일관성 부족